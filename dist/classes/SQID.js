"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SQID=void 0;var _md=_interopRequireDefault(require("md5")),_axios=_interopRequireDefault(require("axios"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _objectSpread(a){for(var b=1;b<arguments.length;b++){var c=null==arguments[b]?{}:arguments[b],d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){_defineProperty(a,b,c[b])})}return a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var SQID=function a(b,c,d){var e=this,f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;_classCallCheck(this,a),_defineProperty(this,"_generateHash",function(a){return(0,_md["default"])("".concat(e.passPhrase).concat(a).concat(e.apiKey))}),_defineProperty(this,"_sqidRequest",function(a,b,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null,f=e.merchantCode,g=e.apiKey,h=e.environmentBaseURI,i=e.passPhrase?e._generateHash(d):null,j=_objectSpread({},a,{apiKey:g,hash:i,hashValue:i,merchantCode:f,methodName:c}),k={baseURL:h,url:"/".concat(b),method:"post",data:j};return(0,_axios["default"])(k).then(function(a){return a})["catch"](function(a){return a})}),_defineProperty(this,"getToken",function(a){return e._sqidRequest(a,"post","getToken")}),_defineProperty(this,"tokenInfo",function(a){return e._sqidRequest(a,"post","tokenInfo",a)}),_defineProperty(this,"processTokenPayment",function(a){return e._sqidRequest(a,"post","processTokenPayment",a.amount)}),this.apiKey=b,this.merchantCode=c,this.environmentBaseURI=d,this.passPhrase=f};exports.SQID=SQID;